'use strict';

module.exports = function () {
  return function (_ref) {
    var options = _ref.options,
        headers = _ref.options.headers,
        body = _ref.body;


    var header = Object.keys(headers).find(function (name) {
      return name.toLowerCase() === 'transfer-encoding';
    });

    if (!header || headers[header] !== 'chunked') {
      headers['content-length'] = Buffer.byteLength(body);
    }

    return { options, body };
  };
};